"use strict";var _apiService=require("./apiService.js"),_DOMActions=require("./DOMActions.js");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}var WeatherApp=_createClass(function e(){var i=this;_classCallCheck(this,e),_defineProperty(this,"connectDOMElements",function(){var e=Array.from(document.querySelectorAll("[id]")).map(function(e){return e.id});i.viewElems=(0,_DOMActions.mapListToDOMElements)(e)}),_defineProperty(this,"setupListeners",function(){i.viewElems.searchInput.addEventListener("keydown",i.handleSubmit),i.viewElems.searchButton.addEventListener("click",i.handleSubmit),i.viewElems.returnToSearchBtn.addEventListener("click",i.returnToSearch)}),_defineProperty(this,"handleSubmit",function(){var e;"click"!==event.type&&"Enter"!==event.key||(i.fadeInOut(),e=i.viewElems.searchInput.value,""==i.viewElems.searchInput.value&&(e="New York"),(0,_apiService.getWeatherByCity)(e).then(function(e){i.displayWeatherData(e)}))}),_defineProperty(this,"fadeInOut",function(){"0.9"===i.viewElems.mainContainer.style.opacity||""===i.viewElems.mainContainer.style.opacity?i.viewElems.mainContainer.style.opacity="0":(i.viewElems.mainContainer.style.opacity="0",i.viewElems.mainContainer.style.opacity="0.9")}),_defineProperty(this,"switchView",function(){"none"!==i.viewElems.weatherSearchView.style.display?(i.viewElems.weatherSearchView.style.display="none",i.viewElems.weatherForecastView.style.display="block"):(i.viewElems.weatherForecastView.style.display="none",i.viewElems.weatherSearchView.style.display="flex")}),_defineProperty(this,"returnToSearch",function(){i.fadeInOut(),setTimeout(function(){i.switchView(),i.fadeInOut()},400),i.viewElems.searchInput.value=""}),_defineProperty(this,"displayWeatherData",function(e){setTimeout(function(){i.switchView(),i.fadeInOut()},400);var t="http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),t=(i.viewElems.weatherCity.textContent=e.name,i.viewElems.weatherIcon.src=t,i.viewElems.weatherIcon.alt=e.weather[0].description,e.main.temp.toFixed(1)),n=e.main.temp_max.toFixed(1),e=e.main.temp_min.toFixed(1);i.viewElems.weatherCurrentTemp.textContent="Current temp: ".concat(t,"°C"),i.viewElems.weatherMaxTemp.textContent="Max temp: ".concat(n,"°C"),i.viewElems.weatherMinTemp.textContent="Min temp: ".concat(e,"°C")}),this.viewElems={},this.connectDOMElements(),this.setupListeners()});document.addEventListener("DOMContentLoaded",new WeatherApp);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJfYXBpU2VydmljZSIsInJlcXVpcmUiLCJfRE9NQWN0aW9ucyIsIl90eXBlb2YiLCJvYmoiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfdG9Qcm9wZXJ0eUtleSIsImtleSIsIl9jcmVhdGVDbGFzcyIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJUeXBlRXJyb3IiLCJfZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImFyZyIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsImlucHV0IiwiaGludCIsInByaW0iLCJ0b1ByaW1pdGl2ZSIsInVuZGVmaW5lZCIsIk51bWJlciIsInJlcyIsImNhbGwiLCJXZWF0aGVyQXBwIiwiX3RoaXMiLCJ0aGlzIiwiQXJyYXkiLCJmcm9tIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibWFwIiwiZWxlbSIsImlkIiwidmlld0VsZW1zIiwibWFwTGlzdFRvRE9NRWxlbWVudHMiLCJsaXN0T2ZJZHMiLCJzZWFyY2hCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlU3VibWl0IiwicmV0dXJuVG9TZWFyY2hCdG4iLCJyZXR1cm5Ub1NlYXJjaCIsInR5cGUiLCJldmVudCIsImZhZGVJbk91dCIsInNlYXJjaElucHV0IiwiZ2V0V2VhdGhlckJ5Q2l0eSIsImRpc3BsYXlXZWF0aGVyRGF0YSIsImRhdGEiLCJtYWluQ29udGFpbmVyIiwic3R5bGUiLCJvcGFjaXR5Iiwid2VhdGhlclNlYXJjaFZpZXciLCJkaXNwbGF5Iiwid2VhdGhlckZvcmVjYXN0VmlldyIsInNldFRpbWVvdXQiLCJzd2l0Y2hWaWV3IiwiaWNvblVSTCIsIndlYXRoZXJDaXR5IiwidGV4dENvbnRlbnQiLCJtYWluIiwidGVtcE1heCIsInRlbXBNaW4iLCJjb25jYXQiLCJ3ZWF0aGVyIiwiaWNvbiIsInRlbXAiLCJjb25uZWN0RE9NRWxlbWVudHMiLCJuYW1lIiwic2V0dXBMaXN0ZW5lcnMiLCJzcmMiLCJ3ZWF0aGVySWNvbiIsImFsdCIsImRlc2NyaXB0aW9uIiwidG9GaXhlZCIsInRlbXBfbWF4IiwidGVtcF9taW4iLCJ3ZWF0aGVyQ3VycmVudFRlbXAiLCJ3ZWF0aGVyTWF4VGVtcCIsIndlYXRoZXJNaW5UZW1wIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFBQSxZQUFBQyxRQUFBLGlCQUFBLEVBQ0FDLFlBQUFELFFBQUEsaUJBQUEsRUFBdUQsU0FBQUUsUUFBQUMsR0FBQSxPQUFBRCxRQUFBLFlBQUEsT0FBQUUsUUFBQSxVQUFBLE9BQUFBLE9BQUFDLFNBQUEsU0FBQUYsR0FBQSxPQUFBLE9BQUFBLENBQUEsRUFBQSxTQUFBQSxHQUFBLE9BQUFBLEdBQUEsWUFBQSxPQUFBQyxRQUFBRCxFQUFBRyxjQUFBRixRQUFBRCxJQUFBQyxPQUFBRyxVQUFBLFNBQUEsT0FBQUosQ0FBQSxHQUFBQSxDQUFBLENBQUEsQ0FBQSxTQUFBSyxrQkFBQUMsRUFBQUMsR0FBQSxJQUFBLElBQUFDLEVBQUEsRUFBQUEsRUFBQUQsRUFBQUUsT0FBQUQsQ0FBQSxHQUFBLENBQUEsSUFBQUUsRUFBQUgsRUFBQUMsR0FBQUUsRUFBQUMsV0FBQUQsRUFBQUMsWUFBQSxDQUFBLEVBQUFELEVBQUFFLGFBQUEsQ0FBQSxFQUFBLFVBQUFGLElBQUFBLEVBQUFHLFNBQUEsQ0FBQSxHQUFBQyxPQUFBQyxlQUFBVCxFQUFBVSxlQUFBTixFQUFBTyxHQUFBLEVBQUFQLENBQUEsQ0FBQSxDQUFBLENBQUEsU0FBQVEsYUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxPQUFBRCxHQUFBZixrQkFBQWMsRUFBQWYs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QUFBekMsS0FBQTJDLGVBQUEsQ0FBQSxDQUFBLEVBMkZ2RHhDLFNBQVNTLGlCQUFpQixtQkFBb0IsSUFBSWQsVUFBWSIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0V2VhdGhlckJ5Q2l0eSB9IGZyb20gJy4vYXBpU2VydmljZS5qcyc7XG5pbXBvcnQgeyBtYXBMaXN0VG9ET01FbGVtZW50cyB9IGZyb20gJy4vRE9NQWN0aW9ucy5qcyc7XG5cbmNsYXNzIFdlYXRoZXJBcHAge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLnZpZXdFbGVtcyA9IHt9O1xuXHRcdHRoaXMuY29ubmVjdERPTUVsZW1lbnRzKCk7XG5cdFx0dGhpcy5zZXR1cExpc3RlbmVycygpO1xuXHR9XG5cblx0Y29ubmVjdERPTUVsZW1lbnRzID0gKCkgPT4ge1xuXHRcdGNvbnN0IGxpc3RPZklkcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2lkXScpKS5tYXAoXG5cdFx0XHQoZWxlbSkgPT4gZWxlbS5pZFxuXHRcdCk7XG5cdFx0dGhpcy52aWV3RWxlbXMgPSBtYXBMaXN0VG9ET01FbGVtZW50cyhsaXN0T2ZJZHMpO1xuXHR9O1xuXG5cdHNldHVwTGlzdGVuZXJzID0gKCkgPT4ge1xuXHRcdHRoaXMudmlld0VsZW1zLnNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZVN1Ym1pdCk7XG5cdFx0dGhpcy52aWV3RWxlbXMuc2VhcmNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVTdWJtaXQpO1xuXHRcdHRoaXMudmlld0VsZW1zLnJldHVyblRvU2VhcmNoQnRuLmFkZEV2ZW50TGlzdGVuZXIoXG5cdFx0XHQnY2xpY2snLFxuXHRcdFx0dGhpcy5yZXR1cm5Ub1NlYXJjaFxuXHRcdCk7XG5cdH07XG5cblx0aGFuZGxlU3VibWl0ID0gKCkgPT4ge1xuXHRcdGlmIChldmVudC50eXBlID09PSAnY2xpY2snIHx8IGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xuXHRcdFx0dGhpcy5mYWRlSW5PdXQoKTtcblx0XHRcdGxldCBpbnB1dCA9IHRoaXMudmlld0VsZW1zLnNlYXJjaElucHV0LnZhbHVlO1xuXHRcdFx0aWYgKHRoaXMudmlld0VsZW1zLnNlYXJjaElucHV0LnZhbHVlID09ICcnKSB7XG5cdFx0XHRcdGlucHV0ID0gJ05ldyBZb3JrJztcblx0XHRcdH1cblx0XHRcdGdldFdlYXRoZXJCeUNpdHkoaW5wdXQpLnRoZW4oKGRhdGEpID0+IHtcblx0XHRcdFx0dGhpcy5kaXNwbGF5V2VhdGhlckRhdGEoZGF0YSk7XG5cdFx0XHR9KVxuXHRcdH1cblx0fTtcblxuXHRmYWRlSW5PdXQgPSAoKSA9PiB7XG5cdFx0aWYgKFxuXHRcdFx0dGhpcy52aWV3RWxlbXMubWFpbkNvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID09PSAnMC45JyB8fFxuXHRcdFx0dGhpcy52aWV3RWxlbXMubWFpbkNvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID09PSAnJ1xuXHRcdCkge1xuXHRcdFx0dGhpcy52aWV3RWxlbXMubWFpbkNvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuXHRcdH0gZWxzZSBpZiAoKHRoaXMudmlld0VsZW1zLm1haW5Db250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcwJykpIHtcblx0XHRcdHRoaXMudmlld0VsZW1zLm1haW5Db250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcwLjknO1xuXHRcdH1cblx0fTtcblxuXHRzd2l0Y2hWaWV3ID0gKCkgPT4ge1xuXHRcdGlmICh0aGlzLnZpZXdFbGVtcy53ZWF0aGVyU2VhcmNoVmlldy5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScpIHtcblx0XHRcdHRoaXMudmlld0VsZW1zLndlYXRoZXJTZWFyY2hWaWV3LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0XHR0aGlzLnZpZXdFbGVtcy53ZWF0aGVyRm9yZWNhc3RWaWV3LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnZpZXdFbGVtcy53ZWF0aGVyRm9yZWNhc3RWaWV3LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0XHR0aGlzLnZpZXdFbGVtcy53ZWF0aGVyU2VhcmNoVmlldy5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuXHRcdH1cblx0fTtcblxuXHRyZXR1cm5Ub1NlYXJjaCA9ICgpID0+IHtcblx0XHR0aGlzLmZhZGVJbk91dCgpO1xuXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHR0aGlzLnN3aXRjaFZpZXcoKTtcblx0XHRcdHRoaXMuZmFkZUluT3V0KCk7XG5cdFx0fSwgNDAwKTtcblx0XHR0aGlzLnZpZXdFbGVtcy5zZWFyY2hJbnB1dC52YWx1ZSA9ICcnO1xuXHR9O1xuXG5cdGRpc3BsYXlXZWF0aGVyRGF0YSA9IChkYXRhKSA9PiB7XG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHR0aGlzLnN3aXRjaFZpZXcoKTtcblx0XHRcdHRoaXMuZmFkZUluT3V0KCk7XG5cdFx0fSwgNDAwKTtcblxuXHRcdGNvbnN0IGljb25VUkwgPSBgaHR0cDovL29wZW53ZWF0aGVybWFwLm9yZy9pbWcvd24vJHtkYXRhLndlYXRoZXJbMF0uaWNvbn1AMngucG5nYDtcblxuXHRcdHRoaXMudmlld0VsZW1zLndlYXRoZXJDaXR5LnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuXHRcdHRoaXMudmlld0VsZW1zLndlYXRoZXJJY29uLnNyYyA9IGljb25VUkxcblx0XHR0aGlzLnZpZXdFbGVtcy53ZWF0aGVySWNvbi5hbHQgPSBkYXRhLndlYXRoZXJbMF0uZGVzY3JpcHRpb247XG5cblx0XHRjb25zdCB0ZW1wID0gZGF0YS5tYWluLnRlbXAudG9GaXhlZCgxKTtcblx0XHRjb25zdCB0ZW1wTWF4ID0gZGF0YS5tYWluLnRlbXBfbWF4LnRvRml4ZWQoMSk7XG5cdFx0Y29uc3QgdGVtcE1pbiA9IGRhdGEubWFpbi50ZW1wX21pbi50b0ZpeGVkKDEpO1xuXG5cdFx0dGhpcy52aWV3RWxlbXMud2VhdGhlckN1cnJlbnRUZW1wLnRleHRDb250ZW50ID0gYEN1cnJlbnQgdGVtcDogJHt0ZW1wfcKwQ2A7XG5cdFx0dGhpcy52aWV3RWxlbXMud2VhdGhlck1heFRlbXAudGV4dENvbnRlbnQgPSBgTWF4IHRlbXA6ICR7dGVtcE1heH3CsENgO1xuXHRcdHRoaXMudmlld0VsZW1zLndlYXRoZXJNaW5UZW1wLnRleHRDb250ZW50ID0gYE1pbiB0ZW1wOiAke3RlbXBNaW59wrBDYDtcblx0fTtcbn1cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG5ldyBXZWF0aGVyQXBwKCkpO1xuIl19
