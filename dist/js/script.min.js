"use strict";var _apiService=require("./apiService.js"),viewElems={},getDOMElem=function(e){return document.getElementById(e)},connectHTMLElems=function(){viewElems.mainContainer=getDOMElem("mainContainer"),viewElems.weatherSearchView=getDOMElem("weatherSearchView"),viewElems.weatherForecastView=getDOMElem("weatherForecastView"),viewElems.searchInput=getDOMElem("searchInput"),viewElems.searchButton=getDOMElem("searchButton"),viewElems.weatherCityContainer=getDOMElem("weatherCityContainer"),viewElems.weatherCity=getDOMElem("weatherCity"),viewElems.weatherIcon=getDOMElem("weatherIcon"),viewElems.weatherCurrentTemp=getDOMElem("weatherCurrentTemp"),viewElems.weatherMaxTemp=getDOMElem("weatherMaxTemp"),viewElems.weatherMinTemp=getDOMElem("weatherMinTemp"),viewElems.returnToSearchBtn=getDOMElem("returnToSearchBtn")},setupListeners=function(){viewElems.searchInput.addEventListener("keydown",onEnterSubmit),viewElems.searchButton.addEventListener("click",onClickSubmit),viewElems.returnToSearchBtn.addEventListener("click",returnToSearch)},initializeApp=function(){connectHTMLElems(),setupListeners()},onEnterSubmit=function(e){"Enter"===e.key&&(fadeInOut(),e=viewElems.searchInput.value,(0,_apiService.getWeatherByCity)(e).then(function(e){displayWeatherData(e)}))},onClickSubmit=function(){fadeInOut();var e=viewElems.searchInput.value;(0,_apiService.getWeatherByCity)(e).then(function(e){displayWeatherData(e)})},fadeInOut=function(){"0.9"===viewElems.mainContainer.style.opacity||""===viewElems.mainContainer.style.opacity?viewElems.mainContainer.style.opacity="0":(viewElems.mainContainer.style.opacity="0",viewElems.mainContainer.style.opacity="0.9")},switchView=function(){"none"!==viewElems.weatherSearchView.style.display?(viewElems.weatherSearchView.style.display="none",viewElems.weatherForecastView.style.display="block"):(viewElems.weatherForecastView.style.display="none",viewElems.weatherSearchView.style.display="flex")},returnToSearch=function(){fadeInOut(),setTimeout(function(){switchView(),fadeInOut()},400),viewElems.searchInput.value=""},displayWeatherData=function(e){setTimeout(function(){switchView(),fadeInOut()},400),viewElems.weatherCity.textContent=e.name,viewElems.weatherIcon.src="http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),viewElems.weatherIcon.alt=e.weather[0].description,viewElems.weatherCurrentTemp.textContent="Current temp: ".concat(e.main.temp.toFixed(1),"°C"),viewElems.weatherMaxTemp.textContent="Max temp: ".concat(e.main.temp_max.toFixed(1),"°C"),viewElems.weatherMinTemp.textContent="Min temp: ".concat(e.main.temp_min.toFixed(1),"°C")};document.addEventListener("DOMContentLoaded",initializeApp);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJfYXBpU2VydmljZSIsInJlcXVpcmUiLCJ2aWV3RWxlbXMiLCJnZXRET01FbGVtIiwiaWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwibWFpbkNvbnRhaW5lciIsIndlYXRoZXJTZWFyY2hWaWV3Iiwid2VhdGhlckZvcmVjYXN0VmlldyIsInNlYXJjaElucHV0Iiwid2VhdGhlckNpdHlDb250YWluZXIiLCJzZWFyY2hCdXR0b24iLCJ3ZWF0aGVyQ2l0eSIsIndlYXRoZXJNYXhUZW1wIiwid2VhdGhlckljb24iLCJ3ZWF0aGVyTWluVGVtcCIsIndlYXRoZXJDdXJyZW50VGVtcCIsInNldHVwTGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uRW50ZXJTdWJtaXQiLCJyZXR1cm5Ub1NlYXJjaEJ0biIsInJldHVyblRvU2VhcmNoIiwiY29ubmVjdEhUTUxFbGVtcyIsIm9uQ2xpY2tTdWJtaXQiLCJldmVudCIsImluaXRpYWxpemVBcHAiLCJnZXRXZWF0aGVyQnlDaXR5IiwiZGlzcGxheVdlYXRoZXJEYXRhIiwiZmFkZUluT3V0IiwiaW5wdXQiLCJ2YWx1ZSIsImRhdGEiLCJvcGFjaXR5IiwidGhlbiIsImRpc3BsYXkiLCJzdHlsZSIsInN3aXRjaFZpZXciLCJzZXRUaW1lb3V0IiwidGV4dENvbnRlbnQiLCJuYW1lIiwic3JjIiwiY29uY2F0Iiwid2VhdGhlciIsImljb24iLCJhbHQiLCJkZXNjcmlwdGlvbiIsIm1haW4iLCJ0ZW1wIiwidG9GaXhlZCIsInRlbXBfbWF4IiwidGVtcF9taW4iXSwibWFwcGluZ3MiOiJhQUFBLElBQUFBLFlBQUFDLFFBQUEsaUJBQUEsRUFBQUMsVUFBQSxHQUlNQyxXQUFhLFNBQUFDLEdBQ2xCLE9BQUFDLFNBQWVDLGVBQWVGLENBQUNBLENBQ2hDLEVBR0NGLGlCQUF1QixXQUF2QkEsVUFDU0ssY0FBQ0MsV0FBb0JMLGVBQVcsRUFBekNELFVBQ1NNLGtCQUFvQkwsV0FBR0Es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cyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFdlYXRoZXJCeUNpdHkgfSBmcm9tICcuL2FwaVNlcnZpY2UuanMnO1xuXG5jb25zdCB2aWV3RWxlbXMgPSB7fTtcblxuY29uc3QgZ2V0RE9NRWxlbSA9IChpZCkgPT4ge1xuXHRyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xufTtcblxuY29uc3QgY29ubmVjdEhUTUxFbGVtcyA9ICgpID0+IHtcblx0dmlld0VsZW1zLm1haW5Db250YWluZXIgPSBnZXRET01FbGVtKCdtYWluQ29udGFpbmVyJyk7XG5cdHZpZXdFbGVtcy53ZWF0aGVyU2VhcmNoVmlldyA9IGdldERPTUVsZW0oJ3dlYXRoZXJTZWFyY2hWaWV3Jyk7XG5cdHZpZXdFbGVtcy53ZWF0aGVyRm9yZWNhc3RWaWV3ID0gZ2V0RE9NRWxlbSgnd2VhdGhlckZvcmVjYXN0VmlldycpO1xuXG5cdHZpZXdFbGVtcy5zZWFyY2hJbnB1dCA9IGdldERPTUVsZW0oJ3NlYXJjaElucHV0Jyk7XG5cdHZpZXdFbGVtcy5zZWFyY2hCdXR0b24gPSBnZXRET01FbGVtKCdzZWFyY2hCdXR0b24nKTtcblx0dmlld0VsZW1zLndlYXRoZXJDaXR5Q29udGFpbmVyID0gZ2V0RE9NRWxlbSgnd2VhdGhlckNpdHlDb250YWluZXInKTtcblxuXHR2aWV3RWxlbXMud2VhdGhlckNpdHkgPSBnZXRET01FbGVtKCd3ZWF0aGVyQ2l0eScpO1xuXHR2aWV3RWxlbXMud2VhdGhlckljb24gPSBnZXRET01FbGVtKCd3ZWF0aGVySWNvbicpO1xuXG5cdHZpZXdFbGVtcy53ZWF0aGVyQ3VycmVudFRlbXAgPSBnZXRET01FbGVtKCd3ZWF0aGVyQ3VycmVudFRlbXAnKTtcblx0dmlld0VsZW1zLndlYXRoZXJNYXhUZW1wID0gZ2V0RE9NRWxlbSgnd2VhdGhlck1heFRlbXAnKTtcblx0dmlld0VsZW1zLndlYXRoZXJNaW5UZW1wID0gZ2V0RE9NRWxlbSgnd2VhdGhlck1pblRlbXAnKTtcblxuXHR2aWV3RWxlbXMucmV0dXJuVG9TZWFyY2hCdG4gPSBnZXRET01FbGVtKCdyZXR1cm5Ub1NlYXJjaEJ0bicpO1xufTtcblxuY29uc3Qgc2V0dXBMaXN0ZW5lcnMgPSAoKSA9PiB7XG5cdHZpZXdFbGVtcy5zZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25FbnRlclN1Ym1pdCk7XG5cdHZpZXdFbGVtcy5zZWFyY2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrU3VibWl0KTtcblx0dmlld0VsZW1zLnJldHVyblRvU2VhcmNoQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmV0dXJuVG9TZWFyY2gpO1xufTtcblxuY29uc3QgaW5pdGlhbGl6ZUFwcCA9ICgpID0+IHtcblx0Y29ubmVjdEhUTUxFbGVtcygpO1xuXHRzZXR1cExpc3RlbmVycygpO1xufTtcblxuY29uc3Qgb25FbnRlclN1Ym1pdCA9IChldmVudCkgPT4ge1xuXHRpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG5cdFx0ZmFkZUluT3V0KCk7XG5cdFx0bGV0IGlucHV0ID0gdmlld0VsZW1zLnNlYXJjaElucHV0LnZhbHVlO1xuXHRcdGdldFdlYXRoZXJCeUNpdHkoaW5wdXQpLnRoZW4oKGRhdGEpID0+IHtcblx0XHRcdGRpc3BsYXlXZWF0aGVyRGF0YShkYXRhKTtcblx0XHR9KTtcblx0fVxufTtcblxuY29uc3Qgb25DbGlja1N1Ym1pdCA9ICgpID0+IHtcblx0ZmFkZUluT3V0KCk7XG5cdGxldCBpbnB1dCA9IHZpZXdFbGVtcy5zZWFyY2hJbnB1dC52YWx1ZTtcblx0Z2V0V2VhdGhlckJ5Q2l0eShpbnB1dCkudGhlbigoZGF0YSkgPT4ge1xuXHRcdGRpc3BsYXlXZWF0aGVyRGF0YShkYXRhKTtcblx0fSk7XG59O1xuXG5jb25zdCBmYWRlSW5PdXQgPSAoKSA9PiB7XG5cdGlmIChcblx0XHR2aWV3RWxlbXMubWFpbkNvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID09PSAnMC45JyB8fFxuXHRcdHZpZXdFbGVtcy5tYWluQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPT09ICcnXG5cdCkge1xuXHRcdHZpZXdFbGVtcy5tYWluQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG5cdH0gZWxzZSBpZiAoKHZpZXdFbGVtcy5tYWluQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnMCcpKSB7XG5cdFx0dmlld0VsZW1zLm1haW5Db250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcwLjknO1xuXHR9XG59O1xuXG5jb25zdCBzd2l0Y2hWaWV3ID0gKCkgPT4ge1xuXHRpZiAodmlld0VsZW1zLndlYXRoZXJTZWFyY2hWaWV3LnN0eWxlLmRpc3BsYXkgIT09ICdub25lJykge1xuXHRcdHZpZXdFbGVtcy53ZWF0aGVyU2VhcmNoVmlldy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdHZpZXdFbGVtcy53ZWF0aGVyRm9yZWNhc3RWaWV3LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHR9IGVsc2Uge1xuXHRcdHZpZXdFbGVtcy53ZWF0aGVyRm9yZWNhc3RWaWV3LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0dmlld0VsZW1zLndlYXRoZXJTZWFyY2hWaWV3LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG5cdH1cbn07XG5cbmNvbnN0IHJldHVyblRvU2VhcmNoID0gKCkgPT4ge1xuXHRmYWRlSW5PdXQoKTtcblxuXHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRzd2l0Y2hWaWV3KCk7XG5cdFx0ZmFkZUluT3V0KCk7XG5cdH0sIDQwMCk7XG5cdHZpZXdFbGVtcy5zZWFyY2hJbnB1dC52YWx1ZSA9ICcnO1xufTtcblxuY29uc3QgZGlzcGxheVdlYXRoZXJEYXRhID0gKGRhdGEpID0+IHtcblx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0c3dpdGNoVmlldygpO1xuXHRcdGZhZGVJbk91dCgpO1xuXHR9LCA0MDApO1xuXG5cdHZpZXdFbGVtcy53ZWF0aGVyQ2l0eS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcblx0dmlld0VsZW1zLndlYXRoZXJJY29uLnNyYyA9IGBodHRwOi8vb3BlbndlYXRoZXJtYXAub3JnL2ltZy93bi8ke2RhdGEud2VhdGhlclswXS5pY29ufUAyeC5wbmdgXG5cdHZpZXdFbGVtcy53ZWF0aGVySWNvbi5hbHQgPSBkYXRhLndlYXRoZXJbMF0uZGVzY3JpcHRpb25cblxuXHR2aWV3RWxlbXMud2VhdGhlckN1cnJlbnRUZW1wLnRleHRDb250ZW50ID0gYEN1cnJlbnQgdGVtcDogJHtkYXRhLm1haW4udGVtcC50b0ZpeGVkKDEpfcKwQ2Bcblx0dmlld0VsZW1zLndlYXRoZXJNYXhUZW1wLnRleHRDb250ZW50ID0gYE1heCB0ZW1wOiAke2RhdGEubWFpbi50ZW1wX21heC50b0ZpeGVkKDEpfcKwQ2Bcblx0dmlld0VsZW1zLndlYXRoZXJNaW5UZW1wLnRleHRDb250ZW50ID0gYE1pbiB0ZW1wOiAke2RhdGEubWFpbi50ZW1wX21pbi50b0ZpeGVkKDEpfcKwQ2Bcbn07XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBpbml0aWFsaXplQXBwKTtcbiJdfQ==
